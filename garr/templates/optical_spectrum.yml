config:
  summary_forms: true

name: optical_spectrum
type: OpticalSpectrum
tag: OPTICAL_SPECTRUM
description: "an all-optical pipe connecting two add-drop ports on two distant Optical Devices. Optical signals flow transparently into this pipe without ever being demodulated."

product_blocks:
  - name: optical_spectrum
    type: OpticalSpectrum
    tag: OPTICAL_SPECTRUM
    description: "Main Product Block for an Optical Spectrum Service"
    fields:
      - name: name
        description: "the optical spectrum service name"
        type: str
        required: active

      - name: garrxdb_customer_id
        description: "the customer identifier in the BSS"
        type: int

      - name: passband
        description: "the minimum and maximum frequencies in MHz of the optical spectrum service"
        type: list
        list_type: int
        min_items: 2
        max_items: 2
        required: provisioning

      - name: add_drop_ports
        description: "the two add-drop ports at the ends of the optical spectrum service"
        type: list
        list_type: OpticalDevicePort
        min_items: 2
        max_items: 2
        required: provisioning

      - name: optical_spectrum_sections
        description: "a list of optical spectra on different device platforms sequentially traversed to form this optical spectrum service"
        type: list 
        list_type: OpticalSpectrumSection
        min_items: 1
        max_items: 9
        required: active

      - name: optical_spectrum_path_constraints
        description: "the constraints for the path to be taken by this optical spectrum service"
        type: OpticalSpectrumPathConstraints
        required: provisioning

  - name: optical_spectrum_section
    type: OpticalSpectrumSection
    tag: OPTIC_SPECTR_SECT
    description: "a section of an optical spectrum service"
    fields:
      - name: name
        description: "the optical spectrum section name"
        type: str
        required: provisioning

      - name: add_drop_ports
        description: "the two add-drop ports at the ends of the optical pipe"
        type: list
        list_type: OpticalDevicePort
        min_items: 2
        max_items: 2
        required: provisioning

      - name: optical_path
        description: "a list of OMS traversed by this optical spectrum section"
        type: list
        list_type: OpticalMuxedSection
        min_items: 1
        max_items: 30
        required: provisioning
      
  - name: optical_spectrum_path_constraints
    type: OpticalSpectrumPathConstraints
    tag: OPT_SPTR_PATH_CNSTR
    description: "constraints for the path to be taken by an optical spectrum service"
    fields:
      - name: include_nodes
        description: "the nodes included in the path computation"
        type: list
        list_type: OpticalDevice
        min_items: 0
        max_items: 30
        required: provisioning

      - name: exclude_nodes
        description: "the nodes excluded from the path computation"
        type: list
        list_type: OpticalDevice
        min_items: 0
        max_items: 30
        required: provisioning

      - name: include_spans
        description: "the spans included in the path computation"
        type: list
        list_type: OpticalFiber
        min_items: 0
        max_items: 30
        required: provisioning

      - name: exclude_spans
        description: "the spans excluded from the path computation"
        type: list
        list_type: OpticalFiber
        min_items: 0
        max_items: 30
        required: provisioning
