config:
  summary_forms: true

name: optical_digital_service
type: OpticalDigitalService
tag: OPT_DIGI_SERVICE
description: "A *digital* service offered by the optical network to its clients, e.g. 100GbE and 400GbE services."

product_blocks:
  - name: optical_digital_service
    type: OpticalDigitalService
    tag: OPT_DIGI_SERVICE
    description: "Main Product Block for an Optical Digital Service"
    fields:
      - name: name
        description: "the service name"
        type: str
        required: active

      - name: description
        type: str
        description: "Description of the digital service"
        modifiable:

      - name: service
        description: "the digital service offered by this Optical Digital Service"
        type: enum
        enum_type: str
        values:
          - "Ethernet100Gbps"
          - "Ethernet400Gbps"
        required: provisioning

      - name: client_id
        description: "integer number that identifies this service inside the Optical Channel(s) that transport it"
        type: int
        required: provisioning

      - name: client_ports
        description: "the two ports connected by this service"
        type: list
        list_type: OpticalDevicePort
        min_items: 2
        max_items: 2
        required: provisioning

      - name: transport_channels
        description: "OpticalChannel(s) transporting this Optical Digital Service"
        type: list
        list_type: OpticalTransportChannel
        min_items: 1
        max_items: 2
        required: active

      - name: nms_uuid
        type: str
        description: "Identifier of this service in the Network Management System"
        required: active

  - name: transport_channel
    type: OpticalTransportChannel
    tag: OPT_TRNSP_CH
    description: "a Transport Channel supporting one, a part of, or more than one Optical Digital Service"
    fields:
      - name: och_id
        description: "the optical channel ID"
        type: int
        required: provisioning

      - name: flow_id
        description: "an integer number identifying a set of optical channels with the same endpoints and path"
        type: int
        required: provisioning

      - name: central_frequency
        description: "the central frequency in MHz of the optical channel"
        type: int
        required: provisioning

      - name: mode
        description: "the mode indentifying the baudrate, modulation, polarization and fec of the channel"
        type: str
        required: provisioning

      - name: line_ports
        description: "the two optical line ports connected by this transport channel"
        type: list
        list_type: OpticalDevicePort
        min_items: 2
        max_items: 2
        required: active

      - name: optical_spectrum
        description: "the Optical Spectrum Service traversed by this transport channel"
        type: OpticalSpectrum
        required: active